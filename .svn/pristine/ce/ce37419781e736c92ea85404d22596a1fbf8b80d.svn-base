cmake_minimum_required(VERSION 2.8)
PROJECT(actlearn)

#if you don't want the full compiler output, remove the following line
SET(CMAKE_VERBOSE_MAKEFILE OFF)

FIND_PACKAGE(ITK REQUIRED)
IF(ITK_FOUND)
  INCLUDE(${ITK_USE_FILE})
ENDIF(ITK_FOUND)

include_directories(${PROJECT_SOURCE_DIR})

set(Boost_DEBUG 0)
set(Boost_USE_STATIC_LIBS on)
set(Boost_USE_MULTITHREADED ON) 
set(Boost_USE_STATIC_RUNTIME OFF)
find_package(Boost 1.53.0 REQUIRED COMPONENTS program_options filesystem system)

if(Boost_FOUND)
  MESSAGE(STATUS "Project source dir: " ${PROJECT_SOURCE_DIR})
  include_directories(${Boost_INCLUDE_DIRS})
  add_executable(grabcutseg
    grabcutseg.cxx
    gmm.cxx
    graphcuts.cxx
    graph.cpp
    maxflow.cpp
    utility.cxx
    )
  
  add_executable(copyheader
    copyheader.cxx
    )

  add_executable(make_fake_patches
    make_fake_patches.cxx
    )

  add_executable(pca
    pca.cxx
    utility.cxx
    )

  add_executable(slic
    slic.cxx
    utility.cxx
    )

  add_executable(rescale
    rescale.cxx
    )
  target_link_libraries(grabcutseg ${ITK_LIBRARIES} ${Boost_LIBRARIES})
  target_link_libraries(copyheader ${ITK_LIBRARIES} ${Boost_LIBRARIES})
  target_link_libraries(make_fake_patches ${ITK_LIBRARIES} ${Boost_LIBRARIES})
  target_link_libraries(pca ${ITK_LIBRARIES} ${Boost_LIBRARIES})
  target_link_libraries(slic ${ITK_LIBRARIES} ${Boost_LIBRARIES})
  target_link_libraries(rescale ${ITK_LIBRARIES} ${Boost_LIBRARIES})

endif()

